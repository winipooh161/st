# Структура маршрутов

## Обзор

Файл `routes/web.php` был разделен на отдельные модули для улучшения организации и поддержки кода.

## Структура файлов

```
routes/
├── web.php                 # Основной файл с базовыми маршрутами и подключениями
├── api.php                 # API маршруты
└── web/
    ├── auth.php           # Аутентификация и авторизация
    ├── profile.php        # Профиль пользователя
    ├── templates.php      # Работа с шаблонами
    ├── media.php          # Медиа-редактор и обработка медиа
    ├── sup.php            # SUP валюта и транзакции
    ├── admin.php          # Административные маршруты
    └── client.php         # Клиентские маршруты
```

## Описание модулей

### auth.php
- Социальная аутентификация (Google, Telegram)
- Дополнительные маршруты аутентификации

### profile.php
- Просмотр и редактирование профиля
- Обновление аватара
- Настройки пользователя

### templates.php
- Публичные шаблоны
- Категории шаблонов
- Редактор шаблонов
- Пользовательские шаблоны
- Папки для шаблонов
- Полученные шаблоны
- Серийные шаблоны
- Статус шаблонов

### media.php
- Медиа-редактор
- Обработка загрузки медиа
- Работа с медиафайлами в шаблонах

### sup.php
- Просмотр баланса SUP
- Переводы SUP
- Административное управление SUP
- Расчет и обработка платежей

### admin.php
- Управление пользователями
- Управление шаблонами
- Управление категориями
- Административная панель

### client.php
- Клиентская панель
- Работа с шаблонами клиентов
- Управление папками клиентов
- Отправка форм из шаблонов

## Использованные middleware

- `auth` - требует аутентификации
- `role:admin` - только для администраторов
- `role:client,admin` - для клиентов и администраторов

## Именование маршрутов

Все маршруты используют логичные имена для простого обращения в контроллерах и view:

```php
// Примеры использования
route('templates.categories')
route('user.templates')
route('sup.transfer')
route('admin.users.index')
route('client.dashboard')
```

## Миграция

Старый файл `web.php` сохранен как `web.php.backup` для справки.

## Проверка маршрутов

Для просмотра всех доступных маршрутов используйте:

```bash
php artisan route:list
```

Для фильтрации по префиксу:

```bash
php artisan route:list --path=admin
php artisan route:list --path=client
php artisan route:list --path=templates
```

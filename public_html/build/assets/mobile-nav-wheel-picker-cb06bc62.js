import{M as o,a as i,b as t,c as l,d as s,e as n}from"./MobileNavUtils-5a4f7da0.js";class r{constructor(){console.log("ðŸŽ¡ MobileNavWheelPicker: ÐÐ°Ñ‡Ð°Ð»Ð¾ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸");try{this.core=new o,console.log("âœ… MobileNavCore Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"),this.storage=new i,console.log("âœ… MobileNavStorage Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"),this.scroll=new t(this.core),console.log("âœ… MobileNavScroll Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"),this.popup=new l(this.core),console.log("âœ… MobileNavPopup Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"),this.utils=new s(this.core,this.scroll),console.log("âœ… MobileNavUtils Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"),this.events=new n(this.core,this.scroll,this.popup),console.log("âœ… MobileNavEvents Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾")}catch(e){console.error("â›” ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð² Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¸:",e)}window.MobileNavWheelPicker=this,setTimeout(()=>{try{this.initScrollTracking(),console.log("âœ… ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ ÑÐºÑ€Ð¾Ð»Ð»Ð° Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾")}catch(e){console.warn("âš ï¸ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ ÑÐºÑ€Ð¾Ð»Ð»Ð°:",e)}},300),setTimeout(()=>{try{this.initModalIntegration(),console.log("âœ… Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¾Ð¹ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°")}catch(e){console.warn("âš ï¸ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ñ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¾Ð¹:",e)}},500),this.setupPublicAPI(),console.log("ðŸŽ¡ MobileNavWheelPicker: Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°")}initModalIntegration(){if(window.modalPanel)this.connectToModalSystem();else{const e=setInterval(()=>{window.modalPanel&&(this.connectToModalSystem(),clearInterval(e))},100);setTimeout(()=>{clearInterval(e),console.warn("MobileNavWheelPicker: ÐœÐ¾Ð´Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÐ¼ Ð±ÐµÐ· Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸")},5e3)}}connectToModalSystem(){console.log("ðŸ”— MobileNavWheelPicker: ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ"),window.modalPanel.mobileNavIntegration!==this&&(window.modalPanel.mobileNavIntegration=this,console.log("âœ… MobileNavWheelPicker: Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¾Ð¹ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°")),this.registerModalHandlers()}registerModalHandlers(){window.onModalBeforeOpen&&(window.onModalBeforeOpen("qrScannerModal",e=>{console.log("MobileNavWheelPicker: ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ðº Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸ÑŽ QR-ÑÐºÐ°Ð½ÐµÑ€Ð°"),this.popup&&this.popup.isPopupOpen&&this.popup.closePopup()}),document.addEventListener("modal.beforeOpen",e=>{this.scroll&&typeof this.scroll.blockHorizontalScroll=="function"&&this.scroll.blockHorizontalScroll()})),window.onModalAfterClose&&document.addEventListener("modal.afterClose",e=>{this.scroll&&typeof this.scroll.unblockHorizontalScroll=="function"&&this.scroll.unblockHorizontalScroll()})}setupPublicAPI(){this.api={show:()=>this.core.showNavigation(),hide:()=>this.core.hideNavigation(),convertToBackButton:e=>this.core.convertIconToBackButton(e),restoreIcon:e=>this.core.restoreIcon(e),showPopup:e=>this.popup.showPopup(e),closePopup:()=>this.popup.closePopup(),isPopupOpen:()=>this.popup.isPopupOpen,getActiveIconId:()=>this.events.activeIconId,modalSystemConnected:()=>window.modalPanel&&window.modalPanel.mobileNavIntegration===this},window.mobileNavAPI=this.api}reinitialize(){console.log("ðŸ”„ MobileNavWheelPicker: ÐŸÐµÑ€ÐµÐ¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ"),this.core&&this.core.init(),this.events&&this.events.init(),this.initModalIntegration()}destroy(){console.log("ðŸ—‘ï¸ MobileNavWheelPicker: ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²"),this.popup&&this.popup.isPopupOpen&&this.popup.closePopup(),this.events&&this.events.activeIconId&&this.core.restoreIcon(this.events.activeIconId),delete window.MobileNavWheelPicker,delete window.mobileNavAPI,window.modalPanel&&window.modalPanel.mobileNavIntegration===this&&(window.modalPanel.mobileNavIntegration=null)}initScrollTracking(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>this.setupScrollListeners(),300)}):setTimeout(()=>this.setupScrollListeners(),300)}setupScrollListeners(){this.scroll&&(this.scroll.setupPageScrollListener(),this.scroll.setupUserActivityListeners(),console.log("ðŸ“œ MobileNavWheelPicker: ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ ÑÐºÑ€Ð¾Ð»Ð»Ð° Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"))}}document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>new r,100)});
